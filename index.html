<!doctype html>
<html>
	<head>
    	<title>OneShot</title>

		<script src='oneShot.js'></script>
	</head>
	<body>	
		<canvas id="oneShotCanvas"></canvas>	
		<pre></pre>

		<script>
			const oneShot = new OneShot('oneShotCanvas');

            const code = 
			`
				# This is a comment
				WINDOW 400, 400

				COLOR "lightgrey"
				FILL ALL

				SPRITE "Square"
					SIZE 4, 4
					FRAME "Idle"
						COLORDATA "@", "red"
						COLORDATA "#", "blue"
						PIXELDATA "@@@@"
						PIXELDATA "@##@"
						PIXELDATA "@##@"
						PIXELDATA "@@@@"
					END
				END

				LET X = 0
				LET Y = 0

				UPDATE 60 THEN
					FILL ALL
					DRAW X, Y, "Square", 0

					X = X + 1
				END
			`;

			oneShot.onPrint = (message) => {
                document.querySelector('pre').innerText += `> ${message}\n`;
			}

			oneShot.run(code);
		</script>
	</body>
</html>
